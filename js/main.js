document.addEventListener("DOMContentLoaded",()=>{initializePage()});function initializePage(){setupSmoothScrolling();setupCTATracking();setupImageLazyLoading();setupAnimationsOnScroll();setupMobileOptimizations()}function scrollToSection(e){const t=document.getElementById(e);if(t){window.scrollTo({top:t.offsetTop-20,behavior:"smooth"}),trackCTAClick(e)}}function setupSmoothScrolling(){document.documentElement.style.scrollBehavior="smooth";document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();scrollToSection(e.getAttribute("href").substring(1))})})}function setupCTATracking(){document.querySelectorAll('button[onclick*="scrollToSection"],a[href*="pay.wiapy.com"]').forEach(e=>{e.addEventListener("click",function(){this.classList.add("animate-pulse-soft"),setTimeout(()=>{this.classList.remove("animate-pulse-soft")},1e3)})})}function trackCTAClick(e){const t=new CustomEvent("ctaClick",{detail:{section:e,timestamp:Date.now()}});document.dispatchEvent(t)}function setupImageLazyLoading(){"IntersectionObserver"in window&&document.querySelectorAll('img[loading="lazy"]').forEach(e=>{(new IntersectionObserver((t,o)=>{t.forEach(a=>{a.isIntersecting&&(a.target.classList.add("loaded"),o.unobserve(a.target))})})).observe(e)})}function setupAnimationsOnScroll(){const e=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&o.target.classList.add("animate-fade-in-up")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll("section").forEach(t=>e.observe(t))}function setupMobileOptimizations(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(document.body.classList.add("mobile-device"),document.querySelectorAll("button,a").forEach(e=>{e.addEventListener("touchstart",()=>{e.style.transform="scale(0.98)"}),e.addEventListener("touchend",()=>{e.style.transform=""})}),(()=>{let e=0;document.addEventListener("touchend",t=>{const o=(new Date).getTime();o-e<=300&&t.preventDefault(),e=o},{passive:!0})})())}const handleScroll=((e,t)=>{let o;return function(...a){clearTimeout(o),o=setTimeout(()=>{e(...a)},t)}})((()=>{window.pageYOffset>window.innerHeight*.5?document.body.classList.add("scrolled"):document.body.classList.remove("scrolled")}),100);window.addEventListener("scroll",handleScroll,{passive:!0});
